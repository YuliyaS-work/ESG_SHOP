{% extends 'basic.html' %}
{% load static %}
{% load querystring %}

{% block title %}–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É ‚Äî –°–ø–µ—Ü–≠–ª–µ–∫—Ç—Ä–æ–ë–µ–ª–¢–æ—Ä–≥{% endblock %}
{% block styles %}
<link rel="stylesheet" href="{% static 'css/catalog.css' %}">
{% endblock %}
{% block meta %}
<meta name="description" content="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —ç–ª–µ–∫—Ç—Ä–æ—Ç–æ–≤–∞—Ä–æ–≤: –∫–∞–±–µ–ª–∏, —ç–ª–µ–∫—Ç—Ä–æ—É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è, —Å–∏—Å—Ç–µ–º—ã —ç–ª–µ–∫—Ç—Ä–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ç–æ–≤–∞—Ä –±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ.">
<meta name="robots" content="index, follow">
<meta name="author" content="–°–ø–µ—Ü–≠–ª–µ–∫—Ç—Ä–æ–ë–µ–ª–¢–æ—Ä–≥, –õ–æ–≥–æ–π—Å–∫">
{% endblock %}
{% block content %}
<main class="main-content">
  <a href="{% url 'catalog' %}" class="catalog-btn">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥</a>
  <div class="catalog-top-buttons">
    {% for rubric in rubrics %}
      <a href="{% url 'subrubrics' rubric.name_translit %}" class="catalog-btn">
        {% if rubric.rubric_name == "–≠–ª–µ–∫—Ç—Ä–∏–∫–∞" %}
          <i class="fas fa-bolt"></i>
        {% elif rubric.rubric_name == "–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞" %}
          <i class="fas fa-faucet"></i>
        {% elif rubric.rubric_name == "–ì–∞–∑–∏—Ñ–∏–∫–∞—Ü–∏—è" %}
          <i class="fas fa-fire"></i>
        {% else %}
          <i class="fas fa-folder"></i>
        {% endif %}
        <span>{{ rubric.rubric_name }}</span>
      </a>
    {% endfor %}
  </div>
  <section class="search-section">
    <h2 class="search-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É</h2>
    {% if results %}
     <div class="products-grid">
        {% for product in results %}
          <div class="product-card-catalog">
            {% if product.photo %}
              <img src="{{ product.photo.url }}" alt="{{ product.title }}">
            {% else %}
              <img src="{% static 'image/default-product.webp' %}" alt="–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
            {% endif %}
            {% if product.rubric.rubric.name_translit and product.rubric.title_translit and product.title_translit %}
              <a href="{% url 'product' product.rubric.rubric.name_translit product.rubric.title_translit product.title_translit %}">
                <h3>{{ product.title }}</h3>
              </a>
            {% else %}
              <h3>{{ product.title }}</h3>
            {% endif %}
            <div class="card-bottom">
              {% if product.price %}
              <p class="price">{{ product.price }} BYN</p>
              <button  type="button" class="basket" data-title="{{ product.title }}" data-price="{{ product.price|floatformat:2 }}">–ö—É–ø–∏—Ç—å</button>
              {% else %}
              <p class="price_no">–£—Ç–æ—á–Ω—è–π—Ç–µ —Ü–µ–Ω—É</p>
              {% endif %}
          </div></div>
        {% endfor %}
      </div>
    {% else %}
      <p class="no-results">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ üòï –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å</p>
    {% endif %}
  </section>
</main>
{% endblock %}