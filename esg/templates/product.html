{% extends 'basic.html' %}
{% load static %}

{% block title %}Товары{% endblock %}
{% block content %}
<main class="main-content">
<div class="product-card-single">

    <h2>{{ product.title }}</h2>
    {% if product.photo %}
        <div class="product-image-container">
            <img src="{{ product.photo.url }}" class="product-img" alt="{{ product.title }}">
        </div>
    {% else %}
        <div class="product-image-container">
            <p>Нет изображения</p>
        </div>
    {% endif %}

    {% if product %}
        <p><b>Описание:</b> {{ product.description|default:"Нет описания" }}</p>
        <p><b>Цена:</b>
            {% if product.price %}
                {{ product.price|floatformat:2|stringformat:"d"}} руб.
            {% else %}
                по запросу
           {% endif %}
       </p>
        <p><b>Код товара:</b> {{product.code}}</p>
    {% endif %}

    <button type="submit" data-id="{{ product.pk }}" data-title="{{ product.title }}" class="basket">Купить</button><br>


    <a href="{% url 'subrubrics' product.rubric.rubric.pk %}" style="display: inline-block; margin-top: 15px; padding: 8px 12px; background: #007bff; color: white; text-decoration: none; border-radius: 4px;">
        Вернуться: <br>{{ product.rubric.title }}
    </a>
</div>
</main>

<script src="{% static 'js/set_basket.js' %}" defer></script>

{% endblock %}