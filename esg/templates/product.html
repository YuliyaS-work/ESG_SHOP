{% extends 'basic.html' %}
{% load static %}
{% block title %}Товары{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/product.css' %}">
<link rel="stylesheet" href="{% static 'css/catalog.css' %}">
{% endblock %}

{% block content %}
<main class="main-content">

    <!--  ===кнопка Каталог===-->
  <a href="{% url 'catalog' %}" class="catalog-btn">Каталог</a>

 <!-- === Верхние кнопки разделов === -->
  <div class="catalog-top-buttons">
    {% for rubric in rubrics %}
      <a href="{% url 'subrubrics' rubric.pk %}" class="catalog-btn">
        {% if rubric.rubric_name == "Электрика" %}
          <i class="fas fa-bolt"></i>
        {% elif rubric.rubric_name == "Сантехника" %}
          <i class="fas fa-faucet"></i>
        {% elif rubric.rubric_name == "Газовое оборудование" %}
          <i class="fas fa-fire"></i>
        {% else %}
          <i class="fas fa-folder"></i>
        {% endif %}
        <span>{{ rubric.rubric_name }}</span>
      </a>
    {% endfor %}
  </div>


<div class="product-card-single">

    <h2>{{ product.title }}</h2>
    <div class="product-image-container">
    {% if product.photo %}
        <img src="{{ product.photo.url }}" alt="{{ product.title }}">
        {% else %}
        <img src="{% static 'image/default-product.png' %}" alt="Нет изображения">
        {% endif %}
        </div>

    {% if product %}
        <p><b>Описание:</b> {{ product.description|default:"Нет описания" }}</p>
        <p><b>Цена:</b>
            {% if product.price %}
                {{ product.price|floatformat:2|stringformat:"d"}} руб.
            {% else %}
                по запросу
           {% endif %}
       </p>
        <p><b>Код товара:</b> {{product.code}}</p>
    {% endif %}

    <button type="submit" data-title="{{ product.title }}" class="basket">Купить</button>

    <a href="{% url 'subrubrics' product.rubric.rubric.pk %}" style="display: inline-block; margin-top: 15px; padding: 8px 12px; background: #007bff; color: white; text-decoration: none; border-radius: 4px;">
        Вернуться: <br>{{ product.rubric.title }}
    </a>
</div>
</main>
{% endblock %}